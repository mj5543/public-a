{"version":3,"file":"src_components_lib_editor_DraftEditor_js.f449ecd8fc1cf97ad8d1.js","mappings":"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","sources":["webpack://lalalol_build/./src/components/lib/code/PrismCode.js","webpack://lalalol_build/./src/components/lib/editor/DraftEditor.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Prism from \"prismjs\";\r\nimport \"prismjs/themes/prism-tomorrow.css\";\r\n\r\nconst PrismCode = ({ code, language }) => {\r\n  useEffect(() => {\r\n    Prism.highlightAll();\r\n  }, []);\r\n  return (\r\n    <div className=\"Code\">\r\n      <pre>\r\n        <code className={`language-${language}`}>{code}</code>\r\n      </pre>\r\n    </div>\r\n  );\r\n}\r\nexport default PrismCode;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { uploadFile } from 'react-s3';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromHTML, ContentState, AtomicBlockUtils } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport PrismCode from '../code/PrismCode';\r\nimport \"prismjs/themes/prism-tomorrow.css\";\r\nimport PrismDecorator from \"draft-js-prism\";\r\n// const PrismDecorator = require('draft-js-prism');\r\nimport {isEmpty} from 'lodash';\r\n// require('dotenv').config();\r\nconsole.log('runtimeEnv--', process.env);\r\n\r\nconst Prism = require('prismjs')\r\nconst decorator = new PrismDecorator({\r\n  // Provide your own instance of PrismJS\r\n  prism: Prism,\r\n  defaultSyntax: \"javascript\",\r\n});\r\n\r\nclass DraftEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log('BoardDetail props--', props);\r\n    const editorState = EditorState.createEmpty(decorator)\r\n    this.state  = {\r\n      // editorState: EditorState.createEmpty(),\r\n      editorState: editorState,\r\n      content: '',\r\n      editContent: '',\r\n      tempFileType: '',\r\n      tempImageUrl: '',\r\n      fileConfig: {}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    // this.uploadImageCallBack = this.uploadImageCallBack(this);\r\n  }\r\n  componentDidMount() {\r\n    this.calcState(this.props.editContent);\r\n    // if (process.env.NODE_ENV === \"production\") {\r\n    //   this._getConfig();\r\n    // } else {\r\n    //   this.setState({\r\n    //     fileConfig: {\r\n    //       bucketName: process.env.REACT_APP_S3_BUCKET_NAME,\r\n    //       region: process.env.REACT_APP_AWS_REGION,\r\n    //       accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY_ID,\r\n    //       secretAccessKey: process.env.REACT_APP_AWS_SECRET_ACCESS_KEY,\r\n    //     }\r\n    //   })\r\n    // }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log('prevState ', prevState);\r\n    console.log('prevProps ', prevProps);\r\n    // if(isEmpty(prevProps.editContent)) {\r\n    //   // const editorState = EditorState.createEmpty(decorator)\r\n    //   const editorState = EditorState.push(this.state.editorState, ContentState.createFromText(''));  \r\n    //   this.setState({\r\n    //     editorState\r\n    //   })\r\n\r\n    // }\r\n  }\r\n  handleChange(e) {\r\n    this.props.onTemperatureChange({content: `${e}`, image: this.state.tempImageUrl});\r\n  }\r\n  calcState(value) {\r\n    if (value) {\r\n      console.log(value)\r\n      const blocksFromHTML = convertFromHTML(value);\r\n      console.log('contentBlocks', blocksFromHTML.contentBlocks)\r\n      const state = ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap,\r\n      );\r\n        this.setState({\r\n        editorState: EditorState.createWithContent(state, this.decorator)\r\n      })\r\n    }\r\n  }\r\n  insertImageBlock() {\r\n    const contentState = this.state.editorState.getCurrentContent();\r\n    console.log(\r\n      \"contentStateRaw\",\r\n      JSON.stringify(convertToRaw(contentState), null, 2)\r\n    );\r\n    console.log('this.state.tempFileType--', this.state.tempFileType);\r\n    const contentStateWithEntity = contentState.createEntity(\r\n      this.state.tempFileType,\r\n      \"IMMUTABLE\",\r\n      // { src: this.props.tempImageUrl }\r\n    );\r\n    const newEditorState = EditorState.set(this.state.editorState, {\r\n      currentContent: contentStateWithEntity\r\n    });\r\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\r\n    const insertedEditorState = AtomicBlockUtils.insertAtomicBlock(\r\n      newEditorState,\r\n      entityKey,\r\n      \" \"\r\n    );\r\n    this.setState({\r\n      editorState: insertedEditorState\r\n    });\r\n  }\r\n  _getConfig = async() => {\r\n    const res = await axios.get(`/api/fileconfig`);\r\n    this.setState({\r\n      fileConfig: res.data\r\n    }) \r\n}\r\n  _getData = async() => {\r\n    const res = await axios.get(`/api/posts/detail?id=${this.props.postId}`);\r\n    console.log('/api/posts/detail', res)\r\n    if(res.data.result.length > 0) {\r\n      this.setState({\r\n        title: res.data.result[0].subject,\r\n        content: res.data.result[0].content\r\n      }) \r\n  \r\n    }\r\n  }\r\n  onEditorStateChange = (currentState) => {\r\n    // editorState에 값 설정\r\n    this.setState({\r\n      editorState: currentState\r\n    });\r\n    const htmlContent = draftToHtml(convertToRaw(currentState.getCurrentContent()));\r\n    console.log('htmlContent', htmlContent)\r\n    this.handleChange(htmlContent);\r\n    const decorator = new PrismDecorator({\r\n      // Provide your own instance of PrismJS\r\n      prism: Prism,\r\n      defaultSyntax: \"javascript\",\r\n    });\r\n    EditorState.set(currentState, {decorator});\r\n    // this.props.changedContent = draftToHtml(convertToRaw(currentState.getCurrentContent()));\r\n\r\n  };\r\n  editContent = (content) => {\r\n    this.setState({\r\n      editContent: content\r\n    }) \r\n\r\n  }\r\n  uploadImageCallBack = (file) => {\r\n    console.log('file---', file)\r\n    this.setState({\r\n      tempFileType: file.type,\r\n      tempImageUrl: file.name\r\n    }) \r\n    // let awsconfig;\r\n    // if (process.env.NODE_ENV === \"production\") {\r\n    //   awsconfig = {\r\n    //     bucketName: process.env.S3_BUCKET_NAME,\r\n    //     region: process.env.AWS_REGION,\r\n    //     accessKeyId: process.env.AWS_ACCESS_KEY_ID,\r\n    //     secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,\r\n    //   }\r\n    // } else {\r\n    //   awsconfig = {\r\n    //     bucketName: process.env.REACT_APP_S3_BUCKET_NAME,\r\n    //     region: process.env.REACT_APP_AWS_REGION,\r\n    //     accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY_ID,\r\n    //     secretAccessKey: process.env.REACT_APP_AWS_SECRET_ACCESS_KEY,\r\n    //   }\r\n    // }\r\n    \r\n    // this.insertImageBlock()\r\n    // const awsconfig = this.state.fileConfig;\r\n    const awsconfig = {\r\n      bucketName: process.env.REACT_APP_S3_BUCKET_NAME,\r\n      region: process.env.REACT_APP_AWS_REGION,\r\n      accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY_ID,\r\n      secretAccessKey: process.env.REACT_APP_AWS_SECRET_ACCESS_KEY,\r\n    }\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      console.log('resolve file---', file);\r\n      uploadFile(file, awsconfig)\r\n        .then(res => {\r\n          console.log(res)\r\n          resolve({ data: { link: res.location } });\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          reject(err);\r\n        });\r\n      }\r\n    );\r\n  }\r\n  myBlockRenderer(contentBlock) {\r\n    const type = contentBlock.getType();\r\n    console.log('myBlockRenderer-', type)\r\n    if (type === 'code') {\r\n      return {\r\n        component: MediaComponent,\r\n        editable: true,\r\n        props: {\r\n          foo: 'bar',\r\n        },\r\n      };\r\n    }\r\n  }\r\n  render(){\r\n    return (\r\n      <div style={{height: this.props.height}}>\r\n      <Editor\r\n        toolbarHidden={this.props.toolbarHidden}\r\n        // 에디터와 툴바 모두에 적용되는 클래스\r\n        wrapperClassName=\"draft-wrapper\"\r\n        // 에디터 주변에 적용된 클래스\r\n        editorClassName=\"draft-editor\"\r\n        // 툴바 주위에 적용된 클래스\r\n        toolbarClassName=\"toolbar-class\"\r\n        // 툴바 설정\r\n        toolbar={{\r\n          // inDropdown: 해당 항목과 관련된 항목을 드롭다운으로 나타낼것인지\r\n          inline: { inDropdown: false },\r\n          list: { inDropdown: true },\r\n          textAlign: { inDropdown: true },\r\n          link: { inDropdown: true },\r\n          history: { inDropdown: false },\r\n          image: { \r\n            uploadCallback: this.uploadImageCallBack,\r\n            inputAccept: 'image/*',\r\n            previewImage: true,\r\n            urlEnabled: false,\r\n            uploadEnabled: true,\r\n            alt: { present: false, mandatory: false },\r\n            defaultSize: {\r\n              height: 'auto',\r\n              width: 'auto',\r\n            },\r\n          },\r\n        }} \r\n        placeholder={this.props.placeholder}\r\n        // 한국어 설정\r\n        localization={{\r\n          locale: 'ko',\r\n        }}\r\n        spellCheck\r\n        // 초기값 설정\r\n        editorState={this.state.editorState}\r\n        // 에디터의 값이 변경될 때마다 onEditorStateChange 호출\r\n        onEditorStateChange={this.onEditorStateChange}\r\n        // blockRendererFn={this.myBlockRenderer}\r\n      />      \r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass MediaComponent extends Component {\r\n  render() {\r\n    console.log('MediaComponent', this.props)\r\n    const {block, contentState} = this.props;\r\n    const enKey = contentState.getLastCreatedEntityKey()\r\n    // console.log('block.getEntityAt(0)', block.getEntityAt(0))\r\n    console.log('block', block)\r\n    // const data = contentState.getEntity(enKey).getData();\r\n    // console.log('data', data)\r\n    // const {foo} = this.props.blockProps;\r\n    // const data = contentState.getEntity(block.getEntityAt(0)).getData();\r\n    // Return a <figure> or some other content using this data.\r\n    return (\r\n      <PrismCode code={block.text} language=\"javascript\" />\r\n    )\r\n  }\r\n}\r\nexport default DraftEditor;"],"names":["React","useEffect","Prism","PrismCode","code","language","highlightAll","createElement","className","Component","axios","uploadFile","Editor","EditorState","convertToRaw","convertFromHTML","ContentState","AtomicBlockUtils","draftToHtml","PrismDecorator","isEmpty","console","log","process","env","require","decorator","prism","defaultSyntax","DraftEditor","constructor","props","editorState","createEmpty","state","content","editContent","tempFileType","tempImageUrl","fileConfig","handleChange","bind","componentDidMount","calcState","componentDidUpdate","prevProps","prevState","e","onTemperatureChange","image","value","blocksFromHTML","contentBlocks","createFromBlockArray","entityMap","setState","createWithContent","insertImageBlock","contentState","getCurrentContent","JSON","stringify","contentStateWithEntity","createEntity","newEditorState","set","currentContent","entityKey","getLastCreatedEntityKey","insertedEditorState","insertAtomicBlock","_getConfig","res","get","data","_getData","postId","result","length","title","subject","onEditorStateChange","currentState","htmlContent","uploadImageCallBack","file","type","name","awsconfig","bucketName","REACT_APP_S3_BUCKET_NAME","region","REACT_APP_AWS_REGION","accessKeyId","REACT_APP_AWS_ACCESS_KEY_ID","secretAccessKey","REACT_APP_AWS_SECRET_ACCESS_KEY","Promise","resolve","reject","then","link","location","catch","err","error","myBlockRenderer","contentBlock","getType","component","MediaComponent","editable","foo","render","style","height","toolbarHidden","wrapperClassName","editorClassName","toolbarClassName","toolbar","inline","inDropdown","list","textAlign","history","uploadCallback","inputAccept","previewImage","urlEnabled","uploadEnabled","alt","present","mandatory","defaultSize","width","placeholder","localization","locale","spellCheck","block","enKey","text"],"sourceRoot":""}